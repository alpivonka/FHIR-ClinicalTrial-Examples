<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>CLINICALTRIALEXAMPLE\Defined Context Global - FHIR v5.0.0-ballot</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/openhie.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>
<!--
  Questionnaire:
-->
    <link href="assets/css/lforms.min.css" rel="stylesheet"/>




    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<!-- Left logo - typically the publisher's logo - project or affiliate -->
        <div id="project-nav">
          <a id="project-logo" no-external="true" href="http://hl7.eu">
            <img height="71" alt="Project home" src="assets/images/home.png"/>
          </a>
        </div>

<!-- Right logo - for example the FHIR logo -->
<!-- Make sure you have authorization to use the FHIR logo -->
        <div id="family-nav">
          <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="70" alt="FHIR website" src="assets/images/fire.png"/> </a>
        </div>

<!-- search icon - if you want -->
<!--
        <div id="hl7-search">
          <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir/search.cfm"><img alt="Search FHIR" src="assets/images/search.png"/></a>
        </div>
-->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">HL7 FHIR Implementation Guide: Example IG Release 1 - US Realm | STU1</span><br/>1.0.0 - STU1</p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://build.fhir.org/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <ul
	xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
	<li>
		<a href="index.html">IG Home</a>
	</li>
	<li>
		<a href="toc.html">Table of Contents</a>
	</li>
	
<!--
	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">Background<b class="caret"></b>
		</a>

	</li>
	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">Functional Description<b class="caret"></b>
		</a>

	</li>
-->
	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">Specifications<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="artifacts.html">Artifact Index</a>
			</li>
		</ul>
	</li>
		<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">Cohort<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="ResearchStudy-Epoch-Definition.html">ResearchStudy Epoch Definition</a>
			</li>
			<li>
				<a href="SoA-Activity-Epoch-Reference.html">SoA Activity Epoch Id Reference</a>
			</li>
		</ul>
	</li>
	</li>
		<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">BRIDG<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="Defined-Context-Global.html">Defined Context (Global)</a>
			</li>
			<!--li>
				<a href="SoA-Activity-Epoch-Reference.html">SoA Activity Epoch LinkId Reference</a>
			</li-->
		</ul>
	</li>
</ul>      
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->
    
    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Defined Context Global</b></li>
          
        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">HL7 FHIR Implementation Guide: Example IG Release 1 - US Realm | STU1 - Local Development build (v1.0.0). See the <a href="https://github.com/alpivonka/FHIR-Base-Clinical-Examples/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Defined Context Global</h2>
  









    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#defined-activities-plandefinition" id="markdown-toc-defined-activities-plandefinition">Defined Activities (PlanDefinition):</a></li>
  <li><a href="#defined-activity" id="markdown-toc-defined-activity">Defined Activity:</a></li>
</ul>

</div>

<p><em>Defined activities</em> are the characterization of a kind of activity, i.e. they define “what” an activity is. Most activities included in a study are not completely brand new, rather they are usually common tests or procedures, or they may be composite activities that are composed of several component activities that form a standard treatment strategy or a new treatment strategy used in several different studies. These activities are reusable concepts that essentially form a global library of activities that can be referenced in studies being planned, implemented, executed and evaluated. These activities can be defined once and referenced in many different studies to save the time and effort of re-entering data and, more importantly, to make the semantic connection between an activity being used in two different studies or at two different points in the same study. This notion of activities being defined once and referenced in many studies is the core idea of the defined activity class and its subclasses. This part of the model is what the BRIDG modeling team calls the “Defined Pillar”. For those familiar with HL7 moodCodes, this is somewhat similar to the defined mood. (<em>BRIDG User’s Guide Release 5.3.1 March 2019 Page 19-20</em>)</p>

<hr />

<h3 id="defined-activities-plandefinition">Defined Activities (PlanDefinition):</h3>

<p>From the definition above, there are three distinct contexts to keep in mind. One should define the “where”, “who” and “what” of each library based on context.</p>

<ol>
  <li><strong>Where</strong>: Platform (global library):
    <ul>
      <li><strong>Who</strong>: Actor(s): Platform Owner</li>
      <li><strong>What</strong>: Defined activities are created and referenced/re-used by tenants/sponsors within the platform.</li>
    </ul>
  </li>
  <li><strong>Where</strong>: Tenant/Sponsor (tenant library):
    <ul>
      <li><strong>Who</strong>: Actor(s): Tenant Owner</li>
      <li><strong>What</strong>: Defined activities are created and referenced/re-used by studies owned by the tenant/sponsor.
        <ul>
          <li>Able to reference Defined Activities established by the Platform (Global) library.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Where</strong>: Study (study library)
    <ul>
      <li><strong>Who</strong>: Actor(s): Study Designer/Coordinator</li>
      <li><strong>What</strong>: Defined activities are created and reused by the specific study’s scope.
        <ul>
          <li>Able to reference Defined Activities established by the Tenant/Sponsor library.</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<p>The ideal pattern should be reusable in the different contexts above. FHIR’s <a href="http://build.fhir.org/plandefinition.html">PlanDefinition</a> resource provides a hierarchical grouping capability of referenced resources. In this context, one can think of <a href="http://build.fhir.org/plandefinition.html">PlanDefinition</a> as an <a href="https://en.wikipedia.org/wiki/Associative_entity">associative entity from RDBMS</a>, in that the PlanDefinition contains the references to the concrete defined activities (differing in resource types).</p>

<p>This pattern will leverage PlanDefintion to define a collective list of Defined Activites from each of the contexts “<strong>Where</strong>” above:</p>
<ul>
  <li>An PlanDefinition.meta to establish ownership/parent reference (Platform, Tenant/Sponsor, Study).
    <ul>
      <li>system: the uri to the (platform, tenant, study) in which this instance of Defined Activities is associated to.</li>
      <li>code : #DefinedActivityLibrary (<strong>TBD</strong> need more descriptive code name)</li>
    </ul>
  </li>
  <li>PlanDefinition.type :
    <ul>
      <li>provide typing of a Plan Defintion . For example:
        <ul>
          <li>#PlatformDefinedActivities</li>
          <li>#TenantDefinedActivities</li>
          <li>#StudyDefinedActivities</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>PlanDefinition’s ability to contain hierarchical groups of action definitions and each action’s codable concept provides typing for each grouping of activities.
    <ul>
      <li>Leverage the http://hl7.org/fhir/resource-types resource type codes.</li>
      <li>Each collection of actions contains the association to the concreate activity definition. The DefinedActivities (PlanDefintion) becomes the associative entiry to the “<strong>Where</strong>” (Scope of defintion) and the defined activity.</li>
    </ul>
  </li>
</ul>

<h4 id="platform-library">Platform Library</h4>

<p>The platform owner has defined two Questionnaires and two Activity Definitions and associated them at the platform level.
The Platform-DefinedActivities (PlanDefintion) is associated with the platform’s organization through the use of the PlanDefinition.meta.tag. The Platform-DefintionActivities is asigned a the type of #PlatformDefinedActivities, which provides a distinguishing search criterion within a planned definition service.</p>

<p>Others within the platform are able to obtain the Platform-DefintionActivities and utilize/reference the contained activities for their use based on the platform’s business rules.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Instance: Platform-DefinedActivities
InstanceOf: PlanDefinition
Usage: #example
Title: "Platform-FHIR DefinedActivities"
Description: "Platform DefinedActivities"
* id = "Platform-DefinedActivities-001"
* status = #active

//meta.tag.system : url to either the Organization (Platform || Tenant) or potential ResearchStudy
* meta.tag[+].system = "Organization/5b90647f-adbe-4880-a670-bf9da0b3e39d"  
* meta.tag[=].code = #definedActivityLibrary

* type = #PlatformDefinedActivities

* action[+].type.coding.code = #Questionnaire
* action[=].type.coding.system = "http://hl7.org/fhir/resource-types"
* action[=].action[+].definitionUri = "Questionnaire/eb57023c-1b1d-4777-9430-d9596bdcd52c"
* action[=].action[=].title = "Platform-Questionnair1 title"
* action[=].action[+].definitionUri = "Questionnaire/eb57023c-1b1d-4777-9430-d9596bdcd52d"
* action[=].action[=].title = "Platform-Questionnair2 title"

* action[+].type.coding.code = #ActivityDefinition
* action[=].type.coding.system = "http://hl7.org/fhir/resource-types"
* action[=].action[+].definitionUri = "ActivityDefinition/32c0f9f2-36bd-42c4-a8e5-f045c2d1bfb0"
* action[=].action[=].title = "Platform-ActivityDefinition1 title"
* action[=].action[+].definitionUri = "ActivityDefinition/4deb634a-6119-417f-a3e4-175417a0f5a7"
* action[=].action[=].title = "Platform-ActivityDefinition2 title"
</code></pre></div></div>
<p><a href="PlanDefinition-PlatformDefinedActivities-001.html">Example Defined Activities</a></p>

<p><img src="PlatformDefinedActivities2.jpg" /></p>

<h4 id="tenant-library">Tenant Library</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Instance: Tenant-DefinedActivities
InstanceOf: PlanDefinition
Usage: #example
Title: "Tenant DefinedActivities"
Description: "Tenant DefinedActivities"
* id = "Tenant-DefinedActivities-001"
* status = #active

//meta.tag.system : url to either the Organization (Platform || Tenant) or potential ResearchStudy
* meta.tag[+].system = "Organization/7faf6345-c323-4107-bd63-e3069ac75a13"  
* meta.tag[=].code = #definedActivityLibrary

* type = #TenantDefinedActivities

* action[+].type.coding.code = #Questionnaire
* action[=].type.coding.system = "http://hl7.org/fhir/resource-types"
* action[=].action[+].definitionUri = "Questionnaire/eb57023c-1b1d-4777-9430-d9596bdcd52c"
* action[=].action[=].title = "Platform-Questionnair1 title"
* action[=].action[+].definitionUri = "Questionnaire/bccff427-22dd-47ec-a292-0965efe34551"
// Tenant created two tenant specific Questionnairs
* action[=].action[=].title = "Tenant-Questionnair1 title"
* action[=].action[+].definitionUri = "Questionnaire/92b1df45-94ec-4c4f-bfe5-430c08dc9496"
* action[=].action[=].title = "Tenant-Questionnair2 title"

* action[+].type.coding.code = #ActivityDefinition
* action[=].type.coding.system = "http://hl7.org/fhir/resource-types"
* action[=].action[+].definitionUri = "ActivityDefinition/32c0f9f2-36bd-42c4-a8e5-f045c2d1bfb0"
* action[=].action[=].title = "Platform-ActivityDefinition1 title"
* action[=].action[+].definitionUri = "ActivityDefinition/4deb634a-6119-417f-a3e4-175417a0f5a7"
* action[=].action[=].title = "Platform-ActivityDefinition2 title"
// Tenant created two tenant specific ActivityDefinitions
* action[=].action[+].definitionUri = "ActivityDefinition/4585d305-06c0-46ed-8bea-23f4cfcb5cc1"
* action[=].action[=].title = "Tenant-ActivityDefinition1 title"
* action[=].action[+].definitionUri = "ActivityDefinition/035c2a2e-9fd3-4e96-a83c-66eda21cc75d"
* action[=].action[=].title = "Tenant-ActivityDefinition2 title"

</code></pre></div></div>

<hr />

<h3 id="defined-activity">Defined Activity:</h3>

<p>From the defined activity perspective (resources: Questionnaire, PlanDefinition, ActivityDefinition), the pattern will re-leverage meta.tag in each resource to represent ownership/where the activity was defined (Platform, Tenant/Sponsor, Study).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Instance: FHIR-Questionnaire
InstanceOf: Questionnaire
Usage: #example
Title: "Example-FHIR Questionnaire"
Description: "FHIR Questionnaire"
* status = #active
* meta.tag[+].system = "Organization/7ad0f876s76dfa7d98a5s67"
* meta.tag[=].code = #definedActivityLibrary
</code></pre></div></div>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

           
      <div class="inner-wrapper">
        <p>
          IG &#169; 2021+ <a style="color: #81BEF7" href="">ClinicalTrialExample</a>.  Package ClinicalTrialExample#1.0.0 based on <a style="color: #81BEF7" href="http://build.fhir.org/">FHIR 5.0.0-ballot</a>. Generated <span title="Tue, Nov 29, 2022 18:40+0000">2022-11-29</span>
          <br/>
          <span style="color: #FFFF77">
                      Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a> |
                 
                 <a style="color: #81BEF7" target="_blank" href="https://github.com/alpivonka/FHIR-Base-Clinical-Examples/history.html">Version History</a> |
                 <a style="color: #81BEF7" rel="license" href="http://build.fhir.org/license.html"><img style="border-style: none;" alt="CC-BY" src="assets/images/cc-by.png" height="17"/></a> |
                 <!--<a style="color: #81BEF7" href="todo.html">Search</a> | --> 


          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

